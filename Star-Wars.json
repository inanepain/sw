{"name":"Star-Wars","master":true,"version":"0.1.0","description":"Star Wars\n\nThe start of relationship modelling.","schemas":{"a72b9405-9a25-4a8f-b25d-249539228fda":{"_id":"a72b9405-9a25-4a8f-b25d-249539228fda","_name":"Jedi","_inherit":["Person"],"useForce":"method","strength":"property"},"f99150ca-cb3b-4751-8dd1-5c7e64a6f487":{"_id":"f99150ca-cb3b-4751-8dd1-5c7e64a6f487","_name":"Person","_inherit":["_Component"],"firstName":"property","lastName":"property","fullName":"method","father":"link","mother":"link","children":"collection","health":"property","strength":"property","damage":"property","adjustHealth":"method","attack":"method","changed":"event"},"d2959220-c246-4c67-994d-227f8d2cf4fd":{"_id":"d2959220-c246-4c67-994d-227f8d2cf4fd","_name":"ActionEvent","_inherit":["_Component"],"type":"property","value":"property"}},"models":{"a772932f-5fd1-4378-8708-80e1d34b234b":{"_id":"a772932f-5fd1-4378-8708-80e1d34b234b","_name":"Jedi","_description":"Person able to use the Force.","useForce":{"description":"","params":[{"description":"","name":"target","type":"Person","mandatory":true,"default":null}],"result":"string"},"strength":{"description":"","type":"number","readOnly":false,"mandatory":true,"default":2}},"bb997eb2-86c3-47b8-a04f-52c2a6278fc6":{"_id":"bb997eb2-86c3-47b8-a04f-52c2a6278fc6","_name":"Person","_description":"","children":{"description":"","type":["Person"],"kind":"normal","readOnly":false,"mandatory":false,"default":[]},"firstName":{"description":"","type":"string","readOnly":false,"mandatory":true,"default":""},"lastName":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":""},"fullName":{"description":"","params":[],"result":"string"},"father":{"description":"","type":"Person","kind":"normal","readOnly":false,"mandatory":false,"default":""},"mother":{"description":"","type":"Person","kind":"normal","readOnly":false,"mandatory":false,"default":""},"health":{"description":"","type":"number","readOnly":false,"mandatory":true,"default":10},"adjustHealth":{"description":"","params":[{"description":"","name":"amount","type":"number","mandatory":true,"default":0}],"result":"number"},"attack":{"description":"","params":[{"description":"","name":"target","type":"Person","mandatory":true,"default":null}],"result":"number"},"strength":{"description":"","type":"number","readOnly":false,"mandatory":true,"default":1},"damage":{"description":"","type":"number","readOnly":false,"mandatory":true,"default":0},"changed":{"description":"","params":[{"description":"","name":"event","type":"ActionEvent","mandatory":false,"default":{}}]}},"ecf6bc39-23ee-4e21-a7da-277e67de9fc1":{"_id":"ecf6bc39-23ee-4e21-a7da-277e67de9fc1","_name":"ActionEvent","_description":"","type":{"description":"","type":"string","readOnly":false,"mandatory":false,"default":"damage"},"value":{"description":"","type":"number","readOnly":false,"mandatory":false,"default":0}}},"behaviors":{"e1a47f82-ff0d-453b-acbd-4df14edbf48a":{"_id":"e1a47f82-ff0d-453b-acbd-4df14edbf48a","component":"e516dd38-66fc-45e7-9d77-9dde0f02a667","state":"start","action":"function start() { \n  let luke = null,\n    vader = null,\n    logger = null;\n    \n    logger = this.require('logger');\n    \n    luke = this.require('luke');\n    vader = luke.father();\n    \n    let kids = (vader.children().map(m => {\n      return m.fullName();\n    })).join(', ');\n    \n    logger.info(vader.fullName());\n    logger.debug(\" Mother: \" + vader.mother().fullName());\n    logger.debug(\" Father: \" + vader.father().fullName());\n    logger.debug(\" Childer:\");\n    logger.debug(\"   \" + kids);\n    \n    logger.info(vader.useForce(luke));\n    \n    // logger.info(luke.adjustHealth(-3));\n    \n    logger.info(\"luke health: \" + luke.health());\n    logger.info(vader.attack(luke));\n    logger.info(\"luke health: \" + luke.health());\n    \n    logger.info(vader.attack(luke));\n    logger.info(\"luke health: \" + luke.health());\n    \n    // logger.info(luke.father().fullName());\n}","useCoreAPI":false,"core":false},"e7d74384-ca5a-49ac-a0e2-7bfc5158b2a5":{"_id":"e7d74384-ca5a-49ac-a0e2-7bfc5158b2a5","component":"Person","state":"fullName","action":"function fullName() { \n  let result = this.firstName() + ' ' + this.lastName();\n  return result;\n}","useCoreAPI":false,"core":false},"c32e3334-9d5d-4ca6-bd07-44635c294610":{"_id":"c32e3334-9d5d-4ca6-bd07-44635c294610","component":"Jedi","state":"useForce","action":"function useForce(target) { \n  let result = this.firstName() + ' uses the force on ' + target.fullName();\n  return result;\n}","useCoreAPI":false,"core":false},"e78f5763-ea8c-41a9-92d6-dda63e1cd5b2":{"_id":"e78f5763-ea8c-41a9-92d6-dda63e1cd5b2","component":"Person","state":"adjustHealth","action":"function adjustHealth(amount) {\n  this.health(this.health() + amount);\n  return this.health();\n}","useCoreAPI":false,"core":false},"e27a3c6c-4f9c-46f5-a5ed-797f8862832f":{"_id":"e27a3c6c-4f9c-46f5-a5ed-797f8862832f","component":"Person","state":"attack","action":"function attack(target) { \n  const logger = this.require('logger');\n  const ActionEvent = this.require('ActionEvent');\n  \n  let action = new ActionEvent({\n    \"type\":\"damage\",\n    \"value\": this.strength()\n  });\n  \n  // const EventType = this.require('EventType');\n  \n  // logger.debug(\"===============EventType\");\n  // logger.debug(EventType.heal);\n  \n  target.changed(action);\n  // target.adjustHealth((this.strength() * -1));\n  return this.strength();\n}","useCoreAPI":false,"core":false},"d9773e6c-1107-46cc-aa3c-6c91b5cb7a01":{"_id":"d9773e6c-1107-46cc-aa3c-6c91b5cb7a01","component":"Person","state":"changed","action":"function changed(event) { \n  const logger = this.require('logger');\n  logger.debug('==========================changed');\n  logger.debug(event.type);\n  logger.debug(event.value);\n  event = undefind;\n  // delete event;\n}","useCoreAPI":false,"core":false}},"types":{"EventType":{"_id":"d6b4906a-d1a4-4460-9b0e-6b9e9ba25e7b","name":"EventType","description":"","type":"string","value":["damage","heal"]},"EventDetails":{"_id":"ca988454-f26c-4be9-b7ae-28e75b13b7c1","name":"EventDetails","description":"","type":"object","schema":{"type":{"description":"","type":"EventType","mandatory":true,"default":"heal"},"value":{"description":"","type":"number","mandatory":true,"default":0}}}},"components":{"Jedi":{"luke":{"_id":"luke","children":[],"father":"vader","firstName":"Luke","lastName":"Skywalker","mother":"","health":6,"strength":2,"damage":0},"vader":{"_id":"vader","children":["luke"],"father":"bob","firstName":"Darth","lastName":"Vader","mother":"susan","health":10,"strength":2,"damage":0},"bob":{"_id":"bob","children":["vader"],"father":"","firstName":"Bob","lastName":"Vader","mother":"","health":10,"strength":2,"damage":0}},"Person":{"susan":{"_id":"susan","children":["vader"],"father":"","firstName":"Susan","lastName":"Bogwar","mother":"","health":10,"strength":1,"damage":0}},"ActionEvent":{}},"_id":"e516dd38-66fc-45e7-9d77-9dde0f02a667"}